name: Docs â€¢ Build & Deploy

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  call-reusable:
    uses: simutrador/.github/.github/workflows/reusable-mkdocs-pages.yml@main
    with:
      python_version: "3.12"
      publish_dir: "site"
      # OPTIONAL: pull docs from other repos into docs/projects/*
      # Format: repo:path_in_repo:dest_subdir
      # aggregate_docs: >
      #   simutrador-core:README.md:core,
      #   simutrador-core:ai-index.md:core,
      #   simutrador-data-manager:docs:data-manager,
      #   simutrador-client:docs:client,
      #   simutrador-server:docs:server
    secrets:
      GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}

permissions:
  contents: read
  pages: write
  id-token: write
